<!doctype html>
<html lang="ja">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>お問い合わせ</title>
  <style>
    body { font-family: system-ui, sans-serif; max-width: 720px; margin: 40px auto; padding: 0 16px; }
    label { display:block; margin: 12px 0 4px; }
    input, textarea { width:100%; padding:8px; border:1px solid #ccc; border-radius:6px; }
    button { margin-top:12px; padding:10px 16px; border:0; border-radius:8px; cursor:pointer; }
    #result { margin-top:12px; }
  </style>
</head>
<body>
  <h1>お問い合わせ</h1>
  <form id="contact">
    <label>お名前</label>
    <input name="name" required>
    <label>メールアドレス</label>
    <input name="email" type="email" required>
    <label>内容</label>
    <textarea name="message" rows="6" required></textarea>
    <button type="submit">送信</button>
  </form>
  <p id="result"></p>

  <script>
    // ★次で作るAPIのURLに置き換えます（例: https://xxx.execute-api.ap-northeast-1.amazonaws.com/submit）
    const API_URL = 'https://YOUR_API_ID.execute-api.ap-northeast-1.amazonaws.com/submit';

    document.getElementById('contact').addEventListener('submit', async (e) => {
      e.preventDefault();
      const fd = new FormData(e.target);
      const payload = {
        name: fd.get('name'),
        email: fd.get('email'),
        message: fd.get('message'),
      };
      const resultEl = document.getElementById('result');

      try {
        const r = await fetch(API_URL, {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify(payload),
        });
        if (!r.ok) throw new Error('送信に失敗しました');
        resultEl.textContent = '送信しました。ありがとうございます。';
        e.target.reset();
      } catch (err) {
        resultEl.textContent = 'エラー: ' + err.message;
      }
    });
  </script>
</body>
</html>